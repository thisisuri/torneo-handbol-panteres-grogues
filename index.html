<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Torneo interno de Handbol – Panteres Grogues</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="estilos.css" />
    <link
      rel="icon"
      href="./cropped-PG-sin-fondo-01-1-32x32.png"
      type="image/x-icon"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      /* Leyendas compactas para tablas */
      .leyenda-tabla {
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
        color: #555;
      }
    </style>
  </head>
  <body>
    <div class="cover-container">
      <img
        src="./handbolweb-1024x683.jpg"
        alt="Torneo Handbol"
        class="cover-image"
      />
      <div class="cover-title">
        Torneo interno de Handbol – Panteres Grogues
      </div>
    </div>

    <!-- PESTAÑAS -->
    <div class="tabs">
      <div class="tab" data-tab="clasificacion">Clasificación</div>
      <div class="tab" data-tab="calendario">Calendario</div>
      <div class="tab" data-tab="reglamento">Reglamento</div>
      <div class="tab" data-tab="equipos">Equipos</div>
      <div class="tab" data-tab="acta">Acta del partido</div>
      <div class="tab" data-tab="asistencia">Asistencia</div>
    </div>

    <!-- CONTENIDO DE PESTAÑAS -->
    <div id="clasificacion" class="tab-content">
      <h1>Clasificación</h1>

      <p class="leyenda-tabla">
        EQ = Equipo | G = Ganados | E = Empatados | P = Perdidos | GF = Goles a
        favor | GC = Goles en contra | DG = Dif. goles | PT = Puntos
      </p>

      <table id="tabla-clasificacion" class="table-wrapper">
        <thead>
          <tr>
            <th>EQ</th>
            <th>G</th>
            <th>E</th>
            <th>P</th>
            <th>GF</th>
            <th>GC</th>
            <th>DG</th>
            <th>PT</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <h2>Resultados de los partidos</h2>

      <p class="leyenda-tabla">
        F = Fecha | L = Local | V = Visitante | R = Resultado
      </p>

      <table id="tabla-resultados" class="table-wrapper">
        <thead>
          <tr>
            <th>F</th>
            <th>L</th>
            <th>V</th>
            <th>R</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div id="calendario" class="tab-content">
      <h1>Calendario de partidos</h1>

      <p class="leyenda-tabla">
        F = Fecha | U = Ubicación | L = Local | V = Visitante | E = Estado | D =
        Descansan
      </p>

      <table id="tabla-partidos" class="table-wrapper">
        <thead>
          <tr>
            <th>F</th>
            <th>U</th>
            <th>L</th>
            <th>V</th>
            <th>E</th>
            <th>D</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div id="reglamento" class="tab-content">
      <h1>Reglamento Oficial del Torneo de Handbol 2025</h1>

      <h2>Formación de equipos</h2>
      <ul>
        <li>
          Se constituirán cuatro equipos, cada uno con un capitán designado. En
          caso de que un equipo no cuente con capitán asignado, los integrantes
          del mismo elegirán a su representante.
        </li>
        <li>
          Cada nuevo integrante que se incorpore a la sección será asignado a
          alguno de los equipos.
        </li>
        <li>
          Cada equipo deberá registrarse con un nombre distintivo que permita su
          identificación en la tabla de posiciones.
        </li>
        <li>
          La conformación inicial de los equipos estará a cargo del entrenador
          Xavi.
        </li>
        <li>
          En caso de no contar con suficientes jugadores, cada equipo podrá
          invitar hasta tres participantes externos, los cuales tendrán un valor
          adicional en el sistema de puntuación.
        </li>
      </ul>

      <h2>Sistema de juego</h2>
      <ul>
        <li>
          El torneo se desarrollará bajo el sistema “todos contra todos”, con
          fixture y tabla de puntos correspondiente.
        </li>
        <li>
          La duración de cada partido será de dos tiempos de 20 minutos, con un
          descanso intermedio de 5 minutos.
        </li>
        <li>
          Finalizada la fase de grupos, se disputarán semifinales previas a la
          final.
        </li>
        <li>
          Los guardametas podrán rotar entre los diferentes equipos, de acuerdo
          con la organización.
        </li>
      </ul>

      <h2>Organización de los partidos</h2>
      <ul>
        <li>
          El sorteo de los enfrentamientos se llevará a cabo durante la primera
          semana de competición, a fin de que los equipos puedan organizar sus
          agendas.
        </li>
        <li>
          En cada jornada, un integrante de un equipo que no participe en el
          partido actuará como árbitro y anotador oficial.
        </li>
        <li>Los encuentros se disputarán en Marbella, los días viernes.</li>
        <li>
          Cada equipo deberá presentarse con indumentaria claramente
          identificada, que permita diferenciar a sus jugadores.
        </li>
      </ul>

      <h2>Participación y asistencia</h2>
      <ul>
        <li>
          La participación mínima obligatoria es de un partido por jugador. La
          inasistencia injustificada perjudica al equipo, por lo que se
          recomienda planificar la disponibilidad.
        </li>
        <li>
          Quedan exentos de esta obligación únicamente aquellos jugadores que se
          encuentren lesionados.
        </li>
        <li>
          Para acceder al premio final, cada jugador deberá acreditar una
          asistencia mínima del 75% de los partidos del torneo.
        </li>
      </ul>

      <h2>Equipación y acompañantes</h2>
      <ul>
        <li>
          Cada equipo podrá diseñar y personalizar su propia indumentaria
          deportiva.
        </li>
        <li>
          Se permitirá la presencia de aficionados para acompañar y alentar a
          los equipos durante los encuentros.
        </li>
      </ul>

      <h2>Premio</h2>
      <ul>
        <li>
          El equipo campeón quedará exento del pago de la cuota correspondiente
          al mes de enero, siempre que todos sus jugadores cumplan con la
          asistencia mínima establecida.
        </li>
      </ul>

      <h2>Espíritu del torneo</h2>
      <ul>
        <li>
          El torneo tiene como finalidad fomentar la sana competencia, el
          compromiso y la convivencia deportiva, promoviendo un ambiente de
          respeto y disfrute para todos los participantes.
        </li>
      </ul>
    </div>

    <div id="equipos" class="tab-content">
      <h1>Equipos</h1>
      <div id="lista-equipos"></div>
    </div>

    <div id="acta" class="tab-content">
      <h1>Editor de resultados</h1>
      <form id="form-resultado">
        <label>
          Partido:
          <select id="select-partido"></select>
        </label>
        <br />
        <label>
          Goles equipo local:
          <input type="number" id="goles-local" min="0" />
        </label>
        <br />
        <label>
          Goles equipo visitante:
          <input type="number" id="goles-visitante" min="0" />
        </label>

        <!-- NUEVA SECCIÓN: JUGADORES EXTRA -->
        <label>Jugadores extra:</label>
        <p class="leyenda-tabla">
          En caso de no contar con suficientes jugadores, hay que añadir los
          jugadores extra de cada equipo y de qué equipo son.
        </p>
        <div class="jugadores-extra-container">
          <div class="jugadores-extra-equipo">
            <label>Equipo local:</label>
            <div class="contador-jugadores" data-equipo="local">
              <select class="equipo-extra-local"></select>
              <input
                type="number"
                class="extra-contador"
                min="0"
                max="3"
                value="0"
              />
            </div>
          </div>
          <div class="jugadores-extra-equipo">
            <label>Equipo visitante:</label>
            <div class="contador-jugadores" data-equipo="visitante">
              <select class="equipo-extra-visitante"></select>
              <input
                type="number"
                class="extra-contador"
                min="0"
                max="3"
                value="0"
              />
            </div>
          </div>
        </div>

        <!-- NUEVA SECCIÓN: PENALIZACIONES -->
        <label>Penalizaciones:</label>
        <p class="leyenda-tabla">
          La inasistencia injustificada perjudica al equipo, por lo que se
          recomienda planificar la disponibilidad.
        </p>
        <div class="penalizaciones-container">
          <label
            ><input
              type="checkbox"
              class="penal-checkbox"
              data-equipo="local"
            />
            Equipo local</label
          >
          <label
            ><input
              type="checkbox"
              class="penal-checkbox"
              data-equipo="visitante"
            />
            Equipo visitante</label
          >
        </div>

        <label>Observaciones:</label>
        <textarea
          id="observaciones"
          rows="3"
          placeholder="Escribe tu comentario aquí"
        ></textarea>

        <br />
        <button type="submit">Confirmar resultado</button>
      </form>
    </div>

    <div id="asistencia" class="tab-content">
      <h1>Control de asistencia</h1>

      <form id="form-asistencia">
        <label>
          Partido:
          <select id="select-partido-asistencia"></select>
        </label>
        <div id="lista-jugadores-partido"></div>
        <button type="submit">Confirmar asistencia</button>
      </form>

      <h2>Asistencia general por jugador</h2>
      <p class="leyenda-tabla">
        J = Jugador | PJ = Partidos jugados | % = % de asistencia
      </p>
      <table id="tabla-asistencia">
        <thead>
          <tr>
            <th>J</th>
            <th>PJ</th>
            <th>%</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <button id="scrollTopBtn" title="Volver arriba">↑</button>

    <script type="module" src="./script.js"></script>
  </body>
</html>
